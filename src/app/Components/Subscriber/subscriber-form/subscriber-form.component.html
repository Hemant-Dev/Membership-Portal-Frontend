<div class="form-container flex flex-1 justify-center mt-4">
  <form class="flex flex-col flex-shrink-0 gap-4" (ngSubmit)="handleSubmit()">
    <div
      class="heading-content font-bold"
      *ngIf="this.initialSubscriberObj.id === 0; else elseUpdate"
    >
      <h1 class="text-3xl mb-4 text-center">Registration Subscriber Form</h1>
      <p>To Register please complete all below fields.</p>
    </div>
    <ng-template #elseUpdate>
      <div class="heading-content font-bold">
        <h1 class="text-3xl mb-4 text-center">Update Subscriber Form</h1>
        <p>To Update please complete all below fields.</p>
      </div>
    </ng-template>
    <label
      [class.invalid]="!isFirstNameValid"
      class="input input-bordered flex items-center gap-2 bg-gray-100"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 16 16"
        fill="currentColor"
        class="w-4 h-4 opacity-70"
      >
        <path
          d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z"
        />
      </svg>
      <input
        [(ngModel)]="initialSubscriberObj.firstName"
        name="firstName"
        type="text"
        autocomplete="off"
        class="grow"
        placeholder="First name"
      />
    </label>
    <span [class.hide]="isFirstNameValid" class="text-red-500"
      >Please enter valid First Name</span
    >

    <label
      [class.invalid]="!isLastNameValid"
      class="input input-bordered flex items-center gap-2 bg-gray-100"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 16 16"
        fill="currentColor"
        class="w-4 h-4 opacity-70"
      >
        <path
          d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z"
        />
      </svg>
      <input
        [(ngModel)]="initialSubscriberObj.lastName"
        name="lastName"
        type="text"
        autocomplete="off"
        class="grow"
        placeholder="Last name"
      />
    </label>
    <span [class.hide]="isLastNameValid" class="text-red-500"
      >Please enter valid Last Name</span
    >

    <label
      [class.invalid]="!isEmailValid"
      class="input input-bordered flex items-center gap-2 bg-gray-100"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 16 16"
        fill="currentColor"
        class="w-4 h-4 opacity-70"
      >
        <path
          d="M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"
        />
        <path
          d="M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"
        />
      </svg>
      <input
        [(ngModel)]="initialSubscriberObj.email"
        name="email"
        type="email"
        autocomplete="off"
        class="grow"
        placeholder="Email"
      />
    </label>
    <span [class.hide]="isEmailValid" class="text-red-500"
      >Please enter valid Email Name</span
    >

    <label
      [class.invalid]="!isContactNumberValid"
      class="input input-bordered flex items-center gap-2 bg-gray-100 text-gray-800"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="currentColor"
        class="w-4 h-4"
        viewBox="0 0 32 32"
        version="1.1"
      >
        <title>phone</title>
        <path
          d="M0 10.375c0 0.938 0.344 1.969 0.781 3.063s1 2.125 1.438 2.906c1.188 2.063 2.719 4.094 4.469 5.781s3.813 3.094 6.125 3.938c1.344 0.531 2.688 1.125 4.188 1.125 0.75 0 1.813-0.281 2.781-0.688 0.938-0.406 1.781-1.031 2.094-1.781 0.125-0.281 0.281-0.656 0.375-1.094 0.094-0.406 0.156-0.813 0.156-1.094 0-0.156 0-0.313-0.031-0.344-0.094-0.188-0.313-0.344-0.563-0.5-0.563-0.281-0.656-0.375-1.5-0.875-0.875-0.5-1.781-1.063-2.563-1.469-0.375-0.219-0.625-0.313-0.719-0.313-0.5 0-1.125 0.688-1.656 1.438-0.563 0.75-1.188 1.438-1.625 1.438-0.219 0-0.438-0.094-0.688-0.25s-0.5-0.281-0.656-0.375c-2.75-1.563-4.594-3.406-6.156-6.125-0.188-0.313-0.625-0.969-0.625-1.313 0-0.406 0.563-0.875 1.125-1.375 0.531-0.469 1.094-1.031 1.094-1.719 0-0.094-0.063-0.375-0.188-0.781-0.281-0.813-0.656-1.75-0.969-2.656-0.156-0.438-0.281-0.75-0.313-0.906-0.063-0.094-0.094-0.219-0.125-0.375s-0.094-0.281-0.125-0.406c-0.094-0.281-0.25-0.5-0.406-0.625-0.156-0.063-0.531-0.156-0.906-0.188-0.375 0-0.813-0.031-1-0.031-0.094 0-0.219 0-0.344 0.031h-0.406c-1 0.438-1.719 1.313-2.25 2.344-0.5 1.031-0.813 2.188-0.813 3.219z"
        />
      </svg>

      <input
        [(ngModel)]="initialSubscriberObj.contactNumber"
        name="contactNumber"
        type="text"
        autocomplete="off"
        class="grow"
        placeholder="Contact number"
        value=""
      />
    </label>
    <span [class.hide]="isContactNumberValid" class="text-red-500"
      >Please enter valid Contact Number</span
    >

    <!-- Add Drop down for gender  -->
    <label class="form-control w-full">
      <div class="label">
        <span class="label-text">Select the gender</span>
      </div>

      <select
        [class.invalid]="!isGenderIdValid"
        [(ngModel)]="initialSubscriberObj.genderId"
        name="genderId"
        class="select select-bordered select-info bg-gray-100"
      >
        <option [value]="0" disabled selected>Pick one</option>
        @for (gender of genderList; track gender) {
        <option [value]="gender.id">{{ gender.genderName }}</option>
        }
      </select>
    </label>
    <span [class.hide]="isGenderIdValid" class="text-red-500"
      >Please Choose valid Gender</span
    >

    <button
      *ngIf="this.initialSubscriberObj.id === 0; else elseBlock"
      type="submit"
      class="btn w-full"
    >
      Submit
    </button>
    <button type="button" [routerLink]="['/subscriber']" class="btn w-full">
      Back
    </button>
    <ng-template #elseBlock>
      <button type="submit" class="btn w-full">Update</button>
    </ng-template>
  </form>
</div>
