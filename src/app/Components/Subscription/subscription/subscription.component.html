<details class="collapse bg-blue-300 advance-search mt-2 max-w-[95%] m-auto">
  <summary class="collapse-title text-xl font-medium text-center">
    Click To do User Advance Search
  </summary>
  <div tabindex="0" class="collapse-content">
    <div class="form-container flex flex-1 justify-center mt-4">
      <form
        class="flex flex-col flex-shrink-0 gap-4"
        (ngSubmit)="handleSubmit()"
      >
        <!-- Add Drop down for subscriber  -->
        <label class="form-control w-full">
          <div class="label">
            <span class="label-text">Select the Subscriber</span>
          </div>

          <select
            [(ngModel)]="initialSubscriptionObj.subscriberId"
            name="subscriberId"
            class="select select-bordered select-info bg-gray-100"
          >
            <option [value]="0" disabled selected>Pick one</option>
            @for (subscriber of subscriberList; track subscriber) {
            <option [value]="subscriber.id">{{ subscriber.firstName }}</option>
            }
          </select>
        </label>

        <!-- Add Drop down for Product  -->
        <label class="form-control w-full">
          <div class="label">
            <span class="label-text">Select the Product</span>
          </div>

          <select
            [(ngModel)]="initialSubscriptionObj.productId"
            [(ngModel)]="initialSubscriptionObj.productName"
            name="productId"
            class="select select-bordered select-info bg-gray-100"
          >
            <option [value]="0" disabled selected>Pick one</option>
            @for (product of productList; track product) {
            <option [value]="product.id">{{ product.productName }}</option>
            }
          </select>
        </label>

        <label class="input input-bordered flex items-center gap-2 bg-gray-100">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6"
            viewBox="0 0 64 64"
            stroke-width="3"
            stroke="#000000"
            fill="none"
          >
            <path
              d="M42.45,56.47H21.55a2.19,2.19,0,0,1-2.19-2.19V29.08a1.1,1.1,0,0,1,.34-.8L30.8,17.86a1.1,1.1,0,0,1,1.47,0l12,10.44a1.12,1.12,0,0,1,.37.82V54.28A2.19,2.19,0,0,1,42.45,56.47Z"
              stroke-linecap="round"
            />
            <path
              d="M32,25.61c-4.13,0-7.48-4.05-7.48-9s3.35-9,7.48-9,7.48,4.05,7.48,9"
              stroke-linecap="round"
            />
            <path
              d="M26.36,31.68H29c2.62,0,5.51.87,5.51,4.86,0,4.32-3.67,6-7.56,5.53a.23.23,0,0,0-.19.39l8.28,8.89"
              stroke-linecap="round"
            />
            <line
              x1="37.71"
              y1="31.68"
              x2="28.45"
              y2="31.68"
              stroke-linecap="round"
            />
            <line
              x1="26.49"
              y1="36.67"
              x2="37.77"
              y2="36.67"
              stroke-linecap="round"
            />
          </svg>
          <input
            [(ngModel)]="initialSubscriptionObj.productPrice"
            name="productPrice"
            type="number"
            autocomplete="off"
            class="grow"
            placeholder="Product Price"
          />
        </label>

        <!-- Add Drop down for Discount  -->
        <label class="form-control w-full">
          <div class="label">
            <span class="label-text">Select the Discount</span>
          </div>

          <select
            [(ngModel)]="initialSubscriptionObj.discountId"
            name="discountId"
            class="select select-bordered select-info bg-gray-100"
          >
            <option [value]="0" disabled selected>Pick one</option>
            @for (discount of discountList; track discount) {
            <option [value]="discount.id">{{ discount.discountCode }}</option>
            }
          </select>
        </label>

        <!-- To show realtime discount amount on product price -->
        <label class="input input-bordered flex items-center gap-2 bg-gray-100">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6"
            viewBox="0 0 64 64"
            stroke-width="3"
            stroke="#000000"
            fill="none"
          >
            <path
              d="M42.45,56.47H21.55a2.19,2.19,0,0,1-2.19-2.19V29.08a1.1,1.1,0,0,1,.34-.8L30.8,17.86a1.1,1.1,0,0,1,1.47,0l12,10.44a1.12,1.12,0,0,1,.37.82V54.28A2.19,2.19,0,0,1,42.45,56.47Z"
              stroke-linecap="round"
            />
            <path
              d="M32,25.61c-4.13,0-7.48-4.05-7.48-9s3.35-9,7.48-9,7.48,4.05,7.48,9"
              stroke-linecap="round"
            />
            <path
              d="M26.36,31.68H29c2.62,0,5.51.87,5.51,4.86,0,4.32-3.67,6-7.56,5.53a.23.23,0,0,0-.19.39l8.28,8.89"
              stroke-linecap="round"
            />
            <line
              x1="37.71"
              y1="31.68"
              x2="28.45"
              y2="31.68"
              stroke-linecap="round"
            />
            <line
              x1="26.49"
              y1="36.67"
              x2="37.77"
              y2="36.67"
              stroke-linecap="round"
            />
          </svg>
          <input
            [(ngModel)]="initialSubscriptionObj.discountAmount"
            name="discountAmount"
            type="number"
            autocomplete="off"
            class="grow"
            placeholder="Discount Amount"
          />
        </label>

        <!-- To show realtime priceAfterDiscount -->
        <label class="input input-bordered flex items-center gap-2 bg-gray-100">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6"
            viewBox="0 0 64 64"
            stroke-width="3"
            stroke="#000000"
            fill="none"
          >
            <path
              d="M42.45,56.47H21.55a2.19,2.19,0,0,1-2.19-2.19V29.08a1.1,1.1,0,0,1,.34-.8L30.8,17.86a1.1,1.1,0,0,1,1.47,0l12,10.44a1.12,1.12,0,0,1,.37.82V54.28A2.19,2.19,0,0,1,42.45,56.47Z"
              stroke-linecap="round"
            />
            <path
              d="M32,25.61c-4.13,0-7.48-4.05-7.48-9s3.35-9,7.48-9,7.48,4.05,7.48,9"
              stroke-linecap="round"
            />
            <path
              d="M26.36,31.68H29c2.62,0,5.51.87,5.51,4.86,0,4.32-3.67,6-7.56,5.53a.23.23,0,0,0-.19.39l8.28,8.89"
              stroke-linecap="round"
            />
            <line
              x1="37.71"
              y1="31.68"
              x2="28.45"
              y2="31.68"
              stroke-linecap="round"
            />
            <line
              x1="26.49"
              y1="36.67"
              x2="37.77"
              y2="36.67"
              stroke-linecap="round"
            />
          </svg>
          <input
            [(ngModel)]="initialSubscriptionObj.priceAfterDiscount"
            name="priceAfterDiscount"
            type="number"
            autocomplete="off"
            class="grow"
            placeholder="Price After Discount"
          />
        </label>

        <!-- Shows Real Time Tax Percentages -->
        <div class="tax-div flex flex-col gap-2">
          <!-- To Show Realtime CGST -->
          <label
            class="input input-bordered flex items-center gap-2 bg-gray-100"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-6 h-6"
              viewBox="0 0 64 64"
              stroke-width="3"
              stroke="#000000"
              fill="none"
            >
              <path
                d="M42.45,56.47H21.55a2.19,2.19,0,0,1-2.19-2.19V29.08a1.1,1.1,0,0,1,.34-.8L30.8,17.86a1.1,1.1,0,0,1,1.47,0l12,10.44a1.12,1.12,0,0,1,.37.82V54.28A2.19,2.19,0,0,1,42.45,56.47Z"
                stroke-linecap="round"
              />
              <path
                d="M32,25.61c-4.13,0-7.48-4.05-7.48-9s3.35-9,7.48-9,7.48,4.05,7.48,9"
                stroke-linecap="round"
              />
              <path
                d="M26.36,31.68H29c2.62,0,5.51.87,5.51,4.86,0,4.32-3.67,6-7.56,5.53a.23.23,0,0,0-.19.39l8.28,8.89"
                stroke-linecap="round"
              />
              <line
                x1="37.71"
                y1="31.68"
                x2="28.45"
                y2="31.68"
                stroke-linecap="round"
              />
              <line
                x1="26.49"
                y1="36.67"
                x2="37.77"
                y2="36.67"
                stroke-linecap="round"
              />
            </svg>
            <input
              [(ngModel)]="initialSubscriptionObj.cgst"
              name="cgst"
              type="number"
              autocomplete="off"
              class="grow"
              placeholder="CGST%"
            />
          </label>
          <!-- To Show Realtime SGST -->
          <label
            class="input input-bordered flex items-center gap-2 bg-gray-100"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-6 h-6"
              viewBox="0 0 64 64"
              stroke-width="3"
              stroke="#000000"
              fill="none"
            >
              <path
                d="M42.45,56.47H21.55a2.19,2.19,0,0,1-2.19-2.19V29.08a1.1,1.1,0,0,1,.34-.8L30.8,17.86a1.1,1.1,0,0,1,1.47,0l12,10.44a1.12,1.12,0,0,1,.37.82V54.28A2.19,2.19,0,0,1,42.45,56.47Z"
                stroke-linecap="round"
              />
              <path
                d="M32,25.61c-4.13,0-7.48-4.05-7.48-9s3.35-9,7.48-9,7.48,4.05,7.48,9"
                stroke-linecap="round"
              />
              <path
                d="M26.36,31.68H29c2.62,0,5.51.87,5.51,4.86,0,4.32-3.67,6-7.56,5.53a.23.23,0,0,0-.19.39l8.28,8.89"
                stroke-linecap="round"
              />
              <line
                x1="37.71"
                y1="31.68"
                x2="28.45"
                y2="31.68"
                stroke-linecap="round"
              />
              <line
                x1="26.49"
                y1="36.67"
                x2="37.77"
                y2="36.67"
                stroke-linecap="round"
              />
            </svg>
            <input
              [(ngModel)]="initialSubscriptionObj.sgst"
              name="sgst"
              type="number"
              autocomplete="off"
              class="grow"
              placeholder="SGST %"
            />
          </label>
          <!-- To Show Realtime Total Tax -->
          <label
            class="input input-bordered flex items-center gap-2 bg-gray-100"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-6 h-6"
              viewBox="0 0 64 64"
              stroke-width="3"
              stroke="#000000"
              fill="none"
            >
              <path
                d="M42.45,56.47H21.55a2.19,2.19,0,0,1-2.19-2.19V29.08a1.1,1.1,0,0,1,.34-.8L30.8,17.86a1.1,1.1,0,0,1,1.47,0l12,10.44a1.12,1.12,0,0,1,.37.82V54.28A2.19,2.19,0,0,1,42.45,56.47Z"
                stroke-linecap="round"
              />
              <path
                d="M32,25.61c-4.13,0-7.48-4.05-7.48-9s3.35-9,7.48-9,7.48,4.05,7.48,9"
                stroke-linecap="round"
              />
              <path
                d="M26.36,31.68H29c2.62,0,5.51.87,5.51,4.86,0,4.32-3.67,6-7.56,5.53a.23.23,0,0,0-.19.39l8.28,8.89"
                stroke-linecap="round"
              />
              <line
                x1="37.71"
                y1="31.68"
                x2="28.45"
                y2="31.68"
                stroke-linecap="round"
              />
              <line
                x1="26.49"
                y1="36.67"
                x2="37.77"
                y2="36.67"
                stroke-linecap="round"
              />
            </svg>
            <input
              [(ngModel)]="initialSubscriptionObj.totalTaxPercentage"
              name="totalTax"
              type="number"
              autocomplete="off"
              class="grow"
              placeholder="Total Tax %"
            />
          </label>
        </div>

        <!-- To Show Realtime Tax Amount on Product Price -->
        <label class="input input-bordered flex items-center gap-2 bg-gray-100">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6"
            viewBox="0 0 64 64"
            stroke-width="3"
            stroke="#000000"
            fill="none"
          >
            <path
              d="M42.45,56.47H21.55a2.19,2.19,0,0,1-2.19-2.19V29.08a1.1,1.1,0,0,1,.34-.8L30.8,17.86a1.1,1.1,0,0,1,1.47,0l12,10.44a1.12,1.12,0,0,1,.37.82V54.28A2.19,2.19,0,0,1,42.45,56.47Z"
              stroke-linecap="round"
            />
            <path
              d="M32,25.61c-4.13,0-7.48-4.05-7.48-9s3.35-9,7.48-9,7.48,4.05,7.48,9"
              stroke-linecap="round"
            />
            <path
              d="M26.36,31.68H29c2.62,0,5.51.87,5.51,4.86,0,4.32-3.67,6-7.56,5.53a.23.23,0,0,0-.19.39l8.28,8.89"
              stroke-linecap="round"
            />
            <line
              x1="37.71"
              y1="31.68"
              x2="28.45"
              y2="31.68"
              stroke-linecap="round"
            />
            <line
              x1="26.49"
              y1="36.67"
              x2="37.77"
              y2="36.67"
              stroke-linecap="round"
            />
          </svg>
          <input
            [(ngModel)]="initialSubscriptionObj.taxAmount"
            name="taxAmount"
            type="number"
            autocomplete="off"
            class="grow"
            placeholder="Tax Amount On Price After Discount"
          />
        </label>

        <!-- To Show Realtime Price After Tax (i.e Final Amount) on Price After Discount  -->
        <label class="input input-bordered flex items-center gap-2 bg-gray-100">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6"
            viewBox="0 0 64 64"
            stroke-width="3"
            stroke="#000000"
            fill="none"
          >
            <path
              d="M42.45,56.47H21.55a2.19,2.19,0,0,1-2.19-2.19V29.08a1.1,1.1,0,0,1,.34-.8L30.8,17.86a1.1,1.1,0,0,1,1.47,0l12,10.44a1.12,1.12,0,0,1,.37.82V54.28A2.19,2.19,0,0,1,42.45,56.47Z"
              stroke-linecap="round"
            />
            <path
              d="M32,25.61c-4.13,0-7.48-4.05-7.48-9s3.35-9,7.48-9,7.48,4.05,7.48,9"
              stroke-linecap="round"
            />
            <path
              d="M26.36,31.68H29c2.62,0,5.51.87,5.51,4.86,0,4.32-3.67,6-7.56,5.53a.23.23,0,0,0-.19.39l8.28,8.89"
              stroke-linecap="round"
            />
            <line
              x1="37.71"
              y1="31.68"
              x2="28.45"
              y2="31.68"
              stroke-linecap="round"
            />
            <line
              x1="26.49"
              y1="36.67"
              x2="37.77"
              y2="36.67"
              stroke-linecap="round"
            />
          </svg>
          <input
            [(ngModel)]="initialSubscriptionObj.finalAmount"
            [disabled]="true"
            name="finalAmount"
            type="number"
            autocomplete="off"
            class="grow"
            placeholder="Final Price After Taxes"
          />
        </label>

        <label class="input input-bordered flex items-center gap-2 bg-gray-100">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 16 16"
            fill="currentColor"
            class="w-4 h-4 opacity-70"
          >
            <path
              d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z"
            />
          </svg>
          <input
            [(ngModel)]="initialSubscriptionObj.startDate"
            name="startDate"
            type="date"
            autocomplete="off"
            class="grow"
          />
        </label>

        <!-- {{ createSubscriptionObj.startDate }} -->

        <label class="input input-bordered flex items-center gap-2 bg-gray-100">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 16 16"
            fill="currentColor"
            class="w-4 h-4 opacity-70"
          >
            <path
              d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z"
            />
          </svg>
          <input
            [(ngModel)]="initialSubscriptionObj.expiryDate"
            name="expiryDate"
            type="date"
            autocomplete="off"
            class="grow"
          />
        </label>
        <!-- {{ createSubscriptionObj.expiryDate }} -->
        <button type="submit" class="btn w-full">Submit</button>
      </form>
    </div>
  </div>
</details>

<div class="list-display">
  <app-subscription-list></app-subscription-list>
  <!-- <app-generic-list
    [itemsList]="subscriptionsList"
    [itemsKeys]="subscriptionKeys"
    [itemsTitle]="Title"
    [itemAddFormRouteName]="AddFormRouteName"
    (onEdit)="handleEditSubscription($event)"
    (onDelete)="handleDeleteSubscription($event)"
  ></app-generic-list> -->
</div>
